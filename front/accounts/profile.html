<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" href="style.css">

</head>

<body>

    <div class="navbar">
        <!-- <a href="#">Home</a>
            <a href="#">About</a> -->
        <a href="profile.html">
            <div class="user-info">
                <img src="../BYTEBITE.png" alt="" style="width:50px;">
                <p id="helloUser"></p>
            </div>
        </a>
        <h3 onclick='location.href="../movies/mainpage.html"'><strong>POPCORNGEEK</strong></h3>
        <!-- <a href="#">Contact</a> -->

        <div>
            <a href='signin.html' class="right" id="signinBtn">sign in</a>
            <a href="signup.html" id="signupBtn">sign up</a>
            <a href="#" id="signoutBtn" style="display: none;">sign out</a>
        </div>
    </div>



    <div class="container mb-4 p-5">
        <h3>프로필</h3>


        <div class="input-group mb-3">
            <input type="text" class="form-control" placeholder="search for user nickname" aria-label="Recipient's username"
                aria-describedby="button-addon2" id="userNickname">
            <button class="btn btn-outline-secondary" type="button" id="searchUserBtn">Button</button>
        </div>

        <!-- 팔로우 버튼 -->
        <div class="container p-1">
            <button id="followUserBtn" class="btn btn-primary btn-sm">follow</button>
        </div>




        <div class="row row-cols-1 row-cols-md-3 g-4">
            <div class="col">
                <div class="card h-100">
                    <div class="card">
                        <p>nickname : <span id="nickname"></span></p>
                    </div>
                    <div class="card">
                        <p>email : <span id="email"></span></p>
                    </div>
                    <div class="card">
                        <p>gender : <span id="gender"></span></p>
                    </div>
                    <div class="card">
                        <p>age : <span id="age"></span></p>
                    </div>
                    <div class="card">
                        <p>bio : <span id="bio"></span></p>
                    </div>



                    <!-- 팔로워 -->
                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-light" data-bs-toggle="modal" data-bs-target="#followerModal">
                        followers <br> <span id="followers"></span>
                    </button>

                    <!-- Modal -->
                    <div class="modal fade" id="followerModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                        aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h1 class="modal-title fs-5" id="exampleModalLabel">팔로워</h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <div id="follower-users">

                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary"
                                        data-bs-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>



                    <!-- 팔로잉 -->
                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-light" data-bs-toggle="modal" data-bs-target="#followingModal">
                        followings <br> <span id="followings"></span>
                    </button>

                    <!-- Modal -->
                    <div class="modal fade" id="followingModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                        aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h1 class="modal-title fs-5" id="exampleModalLabel">팔로잉</h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <div id="following-users">

                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary"
                                        data-bs-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>


            <div class="col">
                <div class="card h-100">


                    <!-- 보고싶어요 영화 -->
                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-outline-success" data-bs-toggle="modal"
                        data-bs-target="#wishMovieModal">
                        want to watch <br> <span id="wannawatch"></span>
                    </button>

                    <!-- Modal -->
                    <div class="modal fade" id="wishMovieModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                        aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h1 class="modal-title fs-5" id="exampleModalLabel">보고싶어요 영화</h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <div id="wnat-to-watch">

                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary"
                                        data-bs-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>




                    <!-- 좋아요한 리뷰 -->
                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-outline-success" data-bs-toggle="modal"
                        data-bs-target="#LikeReviewModal">
                        Liked Review <br> <span id="likedreview"></span>
                    </button>

                    <!-- Modal -->
                    <div class="modal fade" id="LikeReviewModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                        aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h1 class="modal-title fs-5" id="exampleModalLabel">좋아요한 리뷰</h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <div id="liked-review">

                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary"
                                        data-bs-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>



                    <!-- 구매한 상품 -->
                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-outline-primary" data-bs-toggle="modal"
                        data-bs-target="#PurchasedProductModal">
                        Purchased Products <br> <span id="myproducts"></span>
                    </button>

                    <!-- Modal -->
                    <div class="modal fade" id="PurchasedProductModal" tabindex="-1" aria-labelledby="PurchasedProductLabel"
                        aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h1 class="modal-title fs-5" id="PurchasedProductLabel">구매한 상품</h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <div id="my-purchased-products">
                                        <!-- 여기에서 JavaScript를 통해 구매한 상품 목록이 동적으로 추가됩니다. -->
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>
            </div>



            <div class="col">
                <div class="card h-100">

                    <!-- 평가한 영화 -->
                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-outline-success" data-bs-toggle="modal"
                        data-bs-target="#retedMovieModal">
                        rated movie <br> <span id="ratedmovie"></span>
                    </button>

                    <!-- Modal -->
                    <div class="modal fade" id="retedMovieModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                        aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h1 class="modal-title fs-5" id="exampleModalLabel">평가한 영화</h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <div id="my-rated-movie">

                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary"
                                        data-bs-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>



                    <!-- 내가 작성한 리뷰 -->
                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-outline-success" data-bs-toggle="modal"
                        data-bs-target="#myReviewModal">
                        my review <br> <span id="myreview"></span>
                    </button>

                    <!-- Modal -->
                    <div class="modal fade" id="myReviewModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                        aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h1 class="modal-title fs-5" id="exampleModalLabel">내가 작성한 리뷰</h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <div id="my-movie-reviews">

                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary"
                                        data-bs-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>



        <div class="d-grid gap-2 d-md-flex justify-content-md-end p-1">
            <button type="button" class="btn btn-secondary" onclick="location.href='updateprofile.html'" id="profile-btn">update
                Profile</button>
        </div>



    </div>

    <!-- <script>
        // 로컬 스토리지 또는 서버에서 로그인한 사용자의 정보를 가져옴
        const loggedInUser = localStorage.getItem('nickname'); // 예: 로그인한 사용자 닉네임
        const viewedProfileUser = '조회한 프로필의 닉네임'; // 예: 조회한 프로필 닉네임 (이 값을 서버에서 받아온다고 가정)

        // 버튼 요소 가져오기
        const profileBtn = document.getElementById('profileBtn');

        // 로그인한 사용자와 조회한 프로필 사용자가 같을 때만 버튼을 표시
        if (loggedInUser === viewedProfileUser) {
            profileBtn.style.display = 'block'; // 버튼 보이게 설정
        } else {
            profileBtn.style.display = 'none'; // 버튼 숨기기
        }

    </script> -->


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script type="module" src="./accounts.js"></script>
</body>

</html>